<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<!-- saved from url=(0077)http://www.w3.org/WAI/WCAG20/Techniques/working-examples/SCR19/dynselect.html -->
<!--?xml version="1.0" encoding="UTF-8"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><HTML 
lang="en" lang="en" xml:lang="en" 
xmlns="http://www.w3.org/1999/xhtml"><HEAD><META content="IE=11.0000" 
http-equiv="X-UA-Compatible">
 
<META http-equiv="content-type" content="text/xhtml; charset=utf-8"> 
<TITLE>动态选择状态</TITLE> 
<SCRIPT type="text/javascript">
//<![CDATA[
// array of possible countries in the same order as they appear in the country selection list
var countryLists = new Array(4)
countryLists["empty"] = ["选择一个国家"];
countryLists["North America"] = ["加拿大", "美国", "墨西哥"];
countryLists["South America"] = ["巴西", "阿根廷", "智力", "秘鲁"];
countryLists["Asia"] = ["俄国", "中国", "日本"];
countryLists["Europe"]= ["英国", "法国", "西班牙", "德国"];
/* CountryChange() is called from the onchange event of a select element.
 * param selectObj - the select object which fired the on change event.
 */
function countryChange(selectObj) {
	// get the index of the selected option
	var idx = selectObj.selectedIndex;
	// get the value of the selected option
	var which = selectObj.options[idx].value;
	// use the selected option value to retrieve the list of items from the coutnryLists array
	cList = countryLists[which];
	// get the country select element via its known id
	var cSelect = document.getElementById("country");
	// remove the current options from the country select
	var len=cSelect.options.length;
	while (cSelect.options.length > 0) {
		cSelect.remove(0);
	}
	var newOption;
	// create new options
	for (var i=0; i<cList.length; i++) {
		newOption = document.createElement("option");
		newOption.value = cList[i];  // assumes option string and value are the same
		newOption.text=cList[i];
		// add the new option
		try {
			cSelect.add(newOption);  // this will fail in DOM browsers but is needed for IE
		}
		catch (e) {
			cSelect.appendChild(newOption);

		}
	}
}
//]]>
</SCRIPT>
 
<META name="GENERATOR" content="MSHTML 11.00.9600.18057"></HEAD> 
<BODY>
<H1>动态选择状态</H1><LABEL for="continent">选择洲</LABEL> <SELECT id="continent" 
  onchange="countryChange(this);"><OPTION value="empty">选择一个洲</OPTION> <OPTION value="North America">北美</OPTION> 
  <OPTION value="South America">南美</OPTION> <OPTION 
  value="Asia">亚洲</OPTION> <OPTION value="Europe">欧洲</OPTION> </SELECT> 
<BR><LABEL for="country">选择国家</LABEL> <SELECT id="country"><OPTION 
  value="0">选择一个国家</OPTION> </SELECT> </BODY></HTML>
