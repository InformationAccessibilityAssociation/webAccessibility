<!DOCTYPE html>

<html lang="zh-CN">
<head>
<meta charset="utf-8">
<title>使用ARIA role=alert或者Live Regions来标识错误</title>
<link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>
<div class="wrap">
<!-- header begin -->
<div class="header">
    <div class="logo"><a href="http://www.siaa.org.cn/"><img src="../images/logo.png" alt="信息无障碍研究会" /></a></div>
</div>
<!-- header end -->

<!-- body begin -->
<div class="body">
    <!-- article begin -->
    <div class="article">
        <div class="heading"><h2>使用ARIA role=alert或者Live Regions来标识错误_____20160429</h2></div>
		<p><a href="http://www.w3.org/TR/WCAG20-TECHS/ARIA19.html" target="_blank">原文地址</a></p>
        <div class="hr-line"><hr /></div>
        <!-- details begin -->
        <div class="details">
            <h3>说明</h3>
            <p>该技巧的目的是当错误输入发生时，通知辅助技术。当错误信息被插入到Live Region容器时，aria-live属性可以使辅助技术被告知错误信息被插入。aria-live区域中的内容将会被辅助技术自动朗读，而不需要聚焦文本所在区域；</p>
			<p>可以直接使用Live Region属性的<a href="http://www.w3.org/WAI/PF/aria-practices/#chobet" target="_blank">一些样例</a>。</p>
            
        </div>
		<div class="hr-line"><hr /></div>
        <!-- details end -->
        <div class="example">
            <h3>样例</h3>
            <!-- example item begin -->
            <div class="example-item">
                <h4>样例1:将错误信息注入到含有role=alert且已经在DOM中显示的容器中。</h4>
                <p>这个例子中role=alert相当于aria-live=assertive。</p>
				<p>在该样例中，在加载出来页面的DOM中有一个空的错误消息容器元素，该元素<code>aria-atomic=true</code>和一个<code>aria-live</code>属性或<code>alert</code>角色。错误容器必须在页面的DOM树中，这样大多数屏幕阅读器才能读出错误消息。<code>aria-atomic=true</code>是让iOS上VOiceover在无效提交之后读出错误消息所必须的。</p>
				<p>JQuery被用来在提交时测试输入区域是否为空并将错误消息插入到<code>live region</code>区域。每一次提交的时候都会清楚先前的错误消息，并插入新的错误消息。</p>
                <textarea rows="36" cols="100" aria-label="code">
<script src="http://code.jquery.com/jquery.js"></script>
<script>
$(document).ready(function(e) {
	$('#signup').submit(function() {
		$('#errors').html('');
		if ($('#first').val() === '') {
			$('#errors').append('<p>请输入你的名.</p>');
		}
		if ($('#last').val() === '') {
			$('#errors').append('<p>请输入你的姓.</p>');
		} 
		if ($('#email').val() === '') {
			$('#errors').append('<p>请输入你的邮件地址.</p>');
		} 
		return false;
	});
});
</script>
<form name="signup" id="signup" method="post" action="">
  <p id="errors" role="alert" aria-atomic="true"></p>//错误文本，JQUERY将错误信息添加到该区域
  <p>
    <label for="first">名（必填）</label><br>
    <input type="text" name="first" id="first">
  </p>
  <p>
    <label for="last">姓（必填）</label><br>
    <input type="text" name="last" id="last">
  </p>
  <p>
    <label for="email">邮件（必填）</label><br>
    <input type="text" name="email" id="email">
  </p>
  <p>
    <input type="submit" name="button" id="button" value="Submit">
  </p>
</form>
                </textarea><br/>
                <p><a href="example/Usingrole=alerttoIdentifyErrors.html" target="_blank">在线样例</a></p>
                
                <!-- xiaoguo end -->
            </div>
			
		<!--
			<div class="example-item">
                <h4>样例1：</h4>
                <p></p>
                <textarea  name="code1"  rows="5" cols="100">
                    
                </textarea><br/>
                <p>效果</p>
                <div class="xiaoguo">
                    
                </div>
			</div> 
		-->
            <!-- example item end -->
           
        </div>
		 <div class="hr-line"><hr /></div>
        <!-- example end -->
        <div class="result">
            <h3>无障碍效果</h3>
            <p>各读屏、各浏览器的支持效果</p>
            <p>测试人：</p>
            <dl>
            <dt>争渡、IE11：</dt>
            <dd class="screader_result"></dd>
            </dl>
            <dl>
            <dt>永德、IE11：</dt>
            <dd class="screader_result"></dd>
            </dl>
            <dl>
            <dt>NVDA、IE11：</dt>
            <dd class="screader_result"></dd>
            </dl>
            <dl>
            <dt>永德、chrome：</dt>
            <dd class="screader_result"></dd>
            </dl>
            <dl>
            <dt>NVDA、chrome：</dt>
            <dd class="screader_result"></dd>
            </dl>
            <dl>
            <dt>NVDA、Firefox：</dt>
            <dd class="screader_result"></dd>
            </dl>
            <dl>
            <dt>voiceover、chrmoe：</dt>
            <dd class="screader_result"></dd>
            </dl>
            <dl>
            <dt>voiceover、Safari：</dt>
            <dd class="screader_result"></dd>
            </dl>
            <div class="hr-line"><hr /></div>
        </div>
        <!-- result end -->
    </div>
    <!-- article end -->
</div>
<!-- body end -->

<!-- footer begin -->
<div class="footer">
    <div class="sall_logos"><a class="foot_logo" href="http://accessibilityunion.org/"><img src="../images/logo.jpg" alt="中国信息无障碍产品联盟"/></a><a class="foot_logo" href="#"><img src="../images/logo.png" alt="信息无障碍研究会"/></a></div>
        <div class="links">友情链接：
        <a target="_blank" href="http://gongyi.qq.com/">腾讯公益慈善基金会</a> |
        <a target="_blank" href="http://www.yicongfound.org/">黄奕聪慈善基金会</a> |
        <a target="_blank" href="http://www.alijijinhui.org/">阿里巴巴公益基金会</a> |
        <a target="_blank" href="http://www.yufoundation.org.cn/">与人公益基金会</a> |
        <a target="_blank" href="#">浙江敦和慈善基金会</a>
    </div>
    <p class="copyright">深圳市信息无障碍研究会 版权所有 <a href="http://www.miibeian.gov.cn/" target="_blank">粤ICP备10065437号</a> 地址：深圳市福田区雨田路1号富莲大厦一栋一层</p>
    <p class="tel">电话：86-755-83594195 梁振宇（CEO）：15012661056</p>
</div>
<!-- footer end -->
</div>
</body>
</html>
