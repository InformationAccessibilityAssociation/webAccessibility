<!DOCTYPE HTML>
<!-- saved from url=(0088)http://www.w3.org/WAI/WCAG20/Techniques/working-examples/ARIA21/Form-AriaLiveWithJQ.html -->
<!DOCTYPE html PUBLIC "" ""><HTML lang="zh-CN"><HEAD><META content="IE=11.0000" 
http-equiv="X-UA-Compatible">
 <TITLE>JQuery使用aria-live=assertive和aria-invalid通知输入错误</TITLE> 
<META charset="utf-8"> 
<SCRIPT src="js/jquery-1.10.2.js"></SCRIPT>
 
<SCRIPT>
$(document).ready(function(e) {
	$('#signup').submit(function() {
		$('#errText').html('');
$('input').removeAttr("aria-invalid");
$('label').removeAttr("class");
var eFlag = 0;
		if ($('#first').val() === '') {
			$('#first').attr("aria-invalid", "true");
$("label[for='first']").addClass('failed');
eFlag++;
		}
		if ($('#last').val() === '') {
			$('#last').attr("aria-invalid", "true");
$("label[for='last']").addClass('failed');
eFlag++;
		} 
		if ($('#email').val() === '') {
			$('#email').attr("aria-invalid", "true");
$("label[for='email']").addClass('failed');
eFlag++;
		} 
if (eFlag > 0) {
		$('#errText').html("请完成所有必填区域(" + eFlag + ") ，请重试！").focus();
}
		return false;
	});
});
</SCRIPT>
 
<STYLE type="text/css">
label.failed {
	border: red thin solid;
}
</STYLE>
 
<META name="GENERATOR" content="MSHTML 11.00.9600.18057"></HEAD> 
<BODY>
<H2 tabindex="-1" id="errText" aria-live="assertive"></H2>
<FORM name="signup" id="signup" action="#" method="post">
<P><LABEL for="first">名(必填)</LABEL><BR><INPUT name="first" id="first" type="text"> 
  </P>
<P><LABEL for="last">姓(必填)</LABEL><BR><INPUT name="last" id="last" type="text"> 
  </P>
<P><LABEL for="email">Email 
(必填)</LABEL><BR><INPUT name="email" id="email" type="text">   </P>
<P><INPUT name="button" id="button" type="submit" value="提交">   
</P></FORM></BODY></HTML>
