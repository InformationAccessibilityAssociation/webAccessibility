<!DOCTYPE html>

<html lang="zh-CN">
<head>
<meta charset="utf-8">
<title>将动态内容拆入到DOM中并紧跟触发该内容的元素</title>
<link rel="stylesheet" type="text/css" href="../style.css">
<script>
function ShowHide(id,src)
{
	var el = document.getElementById(id);
	if (!el)
	{
		el = document.createElement("div");
		el.id = id;
		var link = document.createElement("a");
		link.href = "javascript:void(0)";
		link.appendChild(document.createTextNode("Content"));
		el.appendChild(link);
		src.parentElement.appendChild(el);
	}
	else
	{
		el.style.display = ('none' == el.style.display ? 'block' : 'none');
	}
}
</script>
</head>
<body>
<div class="wrap">
<!-- header begin -->
<div class="header">
    <div class="logo"><a href="http://www.siaa.org.cn/"><img src="../images/logo.png" alt="信息无障碍研究会" /></a></div>
</div>
<!-- header end -->

<!-- body begin -->
<div class="body">
    <!-- article begin -->
    <div class="article">
        <div class="heading"><h2>将动态内容拆入到DOM中并紧跟触发该内容的元素____20160831</h2>
		<p><a href="http://www.w3.org/TR/WCAG20-TECHS/SCR26.html" target="_blank">原文地址</a></p>
		</div>
        <div class="hr-line"><hr /></div>
        <!-- details begin -->
        <div class="details">
            <h3>说明</h3>
            <p>该技巧的目的是将用户界面元素插入到DOM中，并且tab顺序和屏幕阅读器顺序被设置为用户代理的默认正确顺序。该技巧可被用在隐藏和出现的用户界面元素，例如菜单和对话框。</p>
            <p>屏幕阅读器的阅读顺序是基于DOM中HTML或XHTML元素的顺序，是默认tab顺序。该技巧将新内容插入到DOM中，其焦点顺序紧跟触发新内容的元素后。触发元素必须是个链接或按钮，脚本必须从其点击事件中调用。这些元素默认可聚焦，他们点击事件是设备独立的。插入新内容后，焦点仍停留在激活元素上，tab顺序和屏幕阅读器阅读顺序的下一个焦点是新内容。</p>
			<p class="note">该技巧在同步刷新时有效。对于同步刷新（有时被称之为AJAX），一个额外的技巧是需要告知辅助技术同步内容已经被插入。</p>
        </div>
		<div class="hr-line"><hr /></div>
        <!-- details end -->
        <div class="example">
            <h3>样例</h3>
            <!-- example item begin -->
            <div class="example-item">
                <h4>样例1：</h4>
                <p>该样例当链接被点击时，创建了一个按钮，并将其插入到连接后。该链接的点击事件被用来调用<code>ShowHide</code>脚本，将ID作为一个参数传递给新菜单。</p>
                <textarea  name="code1"  rows="1" cols="100" aria-label="HTML代码">
<a href="#" onclick="ShowHide('foo',this)">开关</a>
                </textarea>
				<p><code>ShowHide</code>创建一个包含新菜单的,<code>div</code>，并插入到链接之后。最后一行代码是脚本的核心代码。它找到触发脚本元素的父亲，并将其创建的<code>div</code>作为子元素添加上。这会让新的<code>div</code>在链接的后面，在DOM中。当用户点击tab，焦点将会去到菜单中第一个可聚焦的元素。</p>
				<textarea  name="code1"  rows="18" cols="100" aria-label="JS脚本">
function ShowHide(id,src)
{
	var el = document.getElementById(id);
	if (!el)
	{
		el = document.createElement("div");
		el.id = id;
		var link = document.createElement("a");
		link.href = "javascript:void(0)";
		link.appendChild(document.createTextNode("Content"));
		el.appendChild(link);
		src.parentElement.appendChild(el);
	}
	else
	{
		el.style.display = ('none' == el.style.display ? 'block' : 'none');
	}
}
                </textarea><br/>
                <p>效果</p>
                <div class="xiaoguo">
<a href="#" onclick="ShowHide('foo',this)">开关</a>
                </div>
                <!-- xiaoguo end -->
            </div>
			<!-- example item end -->
			
		<!--
			<div class="example-item">
                <h4>样例1：</h4>
                <p></p>
                <textarea  name="code1"  rows="5" cols="100" aria-label="代码">
                    
                </textarea><br/>
                <p>效果</p>
                <div class="xiaoguo">
                    
                </div>
			</div> 
			<!-- example item end -->
           
            
        </div>
		<div class="hr-line"><hr /></div>
        <!-- example end -->
		<!--
        <div class="result">
            <h3 tabindex="0">无障碍效果</h3>
            <p>各读屏、各浏览器的支持效果</p>
            <p>测试人：</p>
            <dl>
            <dt>争渡、IE11：</dt>
            <dd class="screader_result"></dd>
            </dl>
            <dl>
            <dt>永德、IE11：</dt>
            <dd class="screader_result"></dd>
            </dl>
            <dl>
            <dt>NVDA、IE11：</dt>
            <dd class="screader_result"></dd>
            </dl>
            <dl>
            <dt>永德、chrome：</dt>
            <dd class="screader_result"></dd>
            </dl>
            <dl>
            <dt>NVDA、chrome：</dt>
            <dd class="screader_result"></dd>
            </dl>
            <dl>
            <dt>NVDA、Firefox：</dt>
            <dd class="screader_result"></dd>
            </dl>
            <dl>
            <dt>voiceover、chrmoe：</dt>
            <dd class="screader_result"></dd>
            </dl>
            <dl>
            <dt>voiceover、Safari：</dt>
            <dd class="screader_result"></dd>
            </dl>
            <div class="hr-line"><hr /></div>
        </div>
        <!-- result end -->
    </div>
    <!-- article end -->
</div>
<!-- body end -->

<!-- footer begin -->
<div class="footer">
    <div class="sall_logos"><a class="foot_logo" href="http://accessibilityunion.org/"><img src="../images/logo.jpg" alt="中国信息无障碍产品联盟"/></a><a class="foot_logo" href="#"><img src="../images/logo.png" alt="信息无障碍研究会"/></a></div>
        <div class="links">友情链接：
        <a target="_blank" href="http://gongyi.qq.com/">腾讯公益慈善基金会</a> |
        <a target="_blank" href="http://www.yicongfound.org/">黄奕聪慈善基金会</a> |
        <a target="_blank" href="http://www.alijijinhui.org/">阿里巴巴公益基金会</a> |
        <a target="_blank" href="http://www.yufoundation.org.cn/">与人公益基金会</a> |
        <a target="_blank" href="#">浙江敦和慈善基金会</a>
    </div>
    <p class="copyright">深圳市信息无障碍研究会 版权所有 <a href="http://www.miibeian.gov.cn/" target="_blank">粤ICP备10065437号</a> 地址：深圳市福田区雨田路1号富莲大厦一栋一层</p>
    <p class="tel">电话：86-755-83594195 梁振宇（CEO）：15012661056</p>
</div>
<!-- footer end -->
</div>
</body>
</html>
